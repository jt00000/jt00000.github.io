---
layout: page
title: "10月まとめ"
date: 2020-10-01 00:00:00 -0000
---
### pakenctf2020
- 疲れた。みんなよく全部ちゃんと解けるな。競プロの撃墜テストケースの定義がわからん結局。全頂点への最短経路になってない出力が返ってくるけどフラグがふってこないのだけはよくわからなかった。

### hack the vote
- めちゃくちゃ面白そうな問題ばっかりなんだけど参加人数少なかった。pwn1問だけといた。下矢印をgetchに認識させられるような方法がわからず簡単な問題を落とした。制御文字をバイト列として送る方はやってたけど、その逆パターンができない。getchが0x102を認識してくれない。
    - electrostar1: 送り方特に工夫する必要はなくて、`\x1b[B`ではなく`\x1bOB`で下矢印を認識して解けた。くそくやしいな。wiresharkでパケット見てエスケープの確認したらしい。こういう発想がめっちゃ大事
    - electrostar2: はmadviseでprivkeyの領域を復活させて、こっちで作ったモジュールを署名つけて起動するらしい（試す）madviceでDONTNEEDと宣言したところを読みに行くと、もう一度物理を見に行く？仕組みになってるらしい。
    - [フラグに書かれたの動画リンク](https://www.youtube.com/watch?v=bg6-LVCHmGM&t=3929)でmadviseにガチ切れしてて草


### picoctf2020
- 今年もpwnは抑えておこうと思ったら、なんかアンロック方式じゃない？２問しか出てこない。一定期間で問題が増えていくのかな。
    - １ヶ月問題が増えず静かに消えてた

### seccon2020
- revいっこだけ。IO_FILEの理解が甘すぎてlazynoteを落としたのは私です。scsbxのエスケープも、unmapにはすぐ気づいていたが、リークのやり方と、プッシュ続けたらペイロード足りなくねってなってた（ループしてどうぞ）
    - lazynote: リークやって、stdinのbuf_base変えて、その次がよくわからない。
        - buf_baseとbuf_endを変えれば良い。free_hookからお手軽に行くかなと思ったが、buf_baseずらすとheap取りに行かないため、素直にexitからのstdoutのvtable forgeへつなぐ。io_overflowでやってみたけど、第一引数がwrite_endかどっかで、目的の値＝x*2+100になるようなxを設定する必要がある。systemはIO_FILE+0xe0におけばよい
    - pwarmup: チームの人はファイル名をシェルコードで調べきってた。仕組みを確認しないといけない。stdoutが閉じられた後に `exec 2>&0; exec 1>&0;`で出力が戻ってくるの、単純に開いてるstdinに出力重畳しましたよって話なんだと思うんだけど、だったら2はいらないんじゃないのとか（これはなぜか必要）、ローカルでは表示されないとかで、よくわからない。ncはないことが多いので、/dev/tcpとかに頼るのが現実的かなと思うけど、いろいろバリエーションが観測できてよかった。
    - scsbx/escape: めちゃめちゃ時間かかったけど書ききって復習を終えた。ループでスタック埋めること、loadで範囲外を読めたこと、偽vectorでgotにスタック持っていってから戻ってくることなど、おもしろポイントが多かっただけに時間内に解きたかった。最後何故かsystemだとシェルが開かなくて、いつもどおりpivotしてクソながropにした。gotからアドレス抜いても検索に引っかからないのでlibc-databaseを更新して無事見つけた。

### damctf2020
- pwn2つくらいよくわからなかった
    - addrop: 暗号化はどうも乱数なんでも一緒っぽくて、テーブル作ったけど、一周目でstdout閉められるけどどうすれば
    - ghostbusters: 完全によくわからない。scanf非自明多すぎ

### n1ctf
- pwn2問は簡単だった。残ってたのはPowerPCのfsb？とブラウザ問、3問くらい。何もわからん

### ほか
- 社内の常設を進めた。80問くらいとけたので、あと半分くらい。webのwriteup見れるようになってきたのがでかい。
- 5年くらい使ってるノートPCが、なんかファンが詰まって回らなくなる→無理やり回ろうとするみたいなのを5秒サイクルでやるようになったので、分解清掃してみたけど、期待したほどホコリがなかった。もうちょい持ってほしいがどうなるか。
    - 品番おなじファン買ったら直った。ありがたい