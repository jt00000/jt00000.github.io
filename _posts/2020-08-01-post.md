---
layout: page
title: "8月まとめ"
date: 2020-08-01 00:00:00 -0000
---
### GACTF2020
- pwnのvmpwnを解いた。おもしろかった。他の問題はhook消してる問題があったり、gifの問題とか、2.31のheap ropとか、小ネタが多そうなのでwriteupは収穫が多そう。
    - writeup出ないな。2.31のheap ropはsetcontextが塞がれていると思ったが実は素直に使える？

### googleCTF2020
- revの最初とsprintを解いて、後はさまよい。sprintは楽しく解けたけど解き終わったら100点台まで落ちててびっくりした。解けなかった人たちは以下
    - web / pasteurize: スクリプトの中の`"`のバイパスできなくて、ページ側になんかあるのかなと思って諦めた。GETのパラメータはとりあえず配列にして放り込んで確認は必ずやる。
    - sandbox / writeonly: forkの後read通ってんじゃねえか、forkしたらseccomp解除される？？とか頭おかしくなってたので余裕のだめ。/proc/$pid/memって権限なしに開いてかけるのね。試してみたら
    、さすがにrootのプロセスは無理だったが、子プロセス以外でも開けてそう
    - (8/30)sprintのwriteupを書いてみた。相変わらず英語は思い通りに書けない。

### InCTF2020
- pwn2つやったけどとにかくしんどかった。
    - これpwncryを指していますが、普通に謎のlibc来たなと思って、systemやらone_gadgetやらが動かなかったから疑心暗鬼になってやってたけど、終了後にlibc-databaseを更新したら表示された。完全に言いがかりおじさんじゃん。ごめん。でもsystemでシェル立ち上げようとすると無限にforkされて立ち上がらんけどどうして
        - こちらは `--librarypath ./`を指定すると上手く立ち上がる。ただしリモートはだめだったので、依然なぞ。

### poseidonCTF2020
- pwn1問だけとけた
    - cardsはガチャったらできた印象。setcontextは2.29でもう使えなくなってる（rdiじゃなくてrdxが使われる）の知らなかった。
    - variable machine revengeはdefenit2020で出た、丁寧に復習していたやつが出てきたけど、今回も何もわからんかった。交互にconcatするとクソでかい値になって落ちるんだけど、上手くコントロールすると何かあったか？
    - oldnoteは2.26の仕様でmalloc(-1)すると0x20サイズのチャンクが出てくるバグがあって、それを使えば終わりらしい。配布されたバイナリでは再現しなかったんだけど。
        - 再現されるけど条件を揃えていなかったのが原因。一度0x20サイズのチャンクを作る必要がある。後はいつものリークレス解くノリでおわり

### 他
- ASISCTFのwebkitの問題少し進めた。fakeobjの概念が結局つかめたのかつかめてないのかっていうところなので、もう一問触っているところ。JITの最適化を利用してごにょるやつ。